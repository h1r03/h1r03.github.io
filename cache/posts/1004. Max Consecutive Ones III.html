
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Problem-Setting">Problem Setting<a class="anchor-link" href="#Problem-Setting">&#182;</a></h1><p>Given an array <code>A</code> of 0s and 1s, we may change up to <code>K</code> values from 0 to 1.</p>
<p>Return the length of the longest (contiguous) subarray that contains only 1s.</p>
<table>
<thead><tr>
<th style="text-align:left">Variable</th>
<th style="text-align:center">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">A</td>
<td style="text-align:center">list</td>
<td style="text-align:left">an array of 0s and 1s e.g., 111000</td>
</tr>
<tr>
<td style="text-align:left">K</td>
<td style="text-align:center">int</td>
<td style="text-align:left">the maximum number of changes fliping from 0 to 1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example-1">Example 1<a class="anchor-link" href="#Example-1">&#182;</a></h2><p>Input: A = [1,1,1,0,0,0,1,1,1,1,0], K = 2</p>
<p>Output: 6</p>
<p>Explanation: 
[1,1,1,0,0,<strong>1*,1,1,1,1,1*</strong>]</p>
<p>Numbers with * (astarisk) were flipped from 0 to 1.  The longest subarray is indicated as a line of bold numers.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Example-2">Example 2<a class="anchor-link" href="#Example-2">&#182;</a></h2><p>Input: A = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3</p>
<p>Output: 10</p>
<p>Explanation: 
[0,0,<strong>1,1,1*,1*,1,1,1,1*,1,1</strong>,0,0,0,1,1,1,1]</p>
<p>Numbers with * (astarisk) were flipped from 0 to 1.  The longest subarray is indicated as a line of bold numers.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Note:</p>
<p>1 &lt;= A.length &lt;= 20000</p>
<p>0 &lt;= K &lt;= A.length</p>
<p>A[i] is 0 or 1</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Solution-from-abhi1027-%3A-Python-Sliding-window)">Solution from <a href="https://leetcode.com/problems/max-consecutive-ones-iii/discuss/247611/O(n">abhi1027</a>-%3A-Python-Sliding-window)<a class="anchor-link" href="#Solution-from-abhi1027-%3A-Python-Sliding-window)">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">longestOnes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">K</span><span class="p">):</span>
        <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">);</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span>
        <span class="n">countk</span><span class="o">=</span><span class="n">K</span><span class="p">;</span><span class="n">res</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;-inf&#39;</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">n</span> <span class="ow">and</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">else</span><span class="p">:</span>   
                <span class="k">if</span> <span class="n">countk</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">countk</span><span class="o">-=</span><span class="mi">1</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">while</span> <span class="n">countk</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                            <span class="n">countk</span><span class="o">+=</span><span class="mi">1</span>
                        <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
                    <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">res</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  
            <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
        <span class="k">return</span> <span class="n">res</span> 
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Example 1</span>
<span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">longestOnes</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>6</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Example 2</span>
<span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Solution</span><span class="p">()</span>
<span class="n">s</span><span class="o">.</span><span class="n">longestOnes</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>10</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Step-by-step-understanding">Step-by-step understanding<a class="anchor-link" href="#Step-by-step-understanding">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ol>
<li>Initialization</li>
</ol>
<table>
<thead><tr>
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>the first counter to keep the pointer for the beggining of consecutive subarray of 1s</td>
</tr>
<tr>
<td>j</td>
<td>the first counter to keep the pointer for the end of consecutive subarray of 1s</td>
</tr>
<tr>
<td>n</td>
<td>the length of a given array <code>A</code></td>
</tr>
<tr>
<td>countK</td>
<td>the reverse counter to count down the number of flip</td>
</tr>
<tr>
<td>res</td>
<td>the result integer starting from <code>negative infinity</code></td>
</tr>
</tbody>
</table>
<ol>
<li><p>the first <code>while</code> loop</p>
<ul>
<li><p><code>i</code> is set as a starting point</p>
<ul>
<li><code>j</code>(end) is increased until the length of array or using the maximum number of changes</li>
<li>if <code>j</code> is <code>1</code> then, skip to next</li>
<li>if <code>j</code> is <code>0</code> then, subtract the number from <code>countK</code> </li>
</ul>
<p>Continue the above loop till <code>countK</code> becomes <code>0</code></p>
</li>
</ul>
</li>
</ol>
<ol>
<li>When the <code>countK</code> becomse <code>0</code>, reset the process and move the position of <code>i</code> forward <code>+1</code><ul>
<li>if the next position is <code>0</code> then revert the <code>countK</code> and add <code>+1</code></li>
<li>if the next position is <code>1</code> then simply move the index of <code>i</code> forward <code>+1</code> without changing <code>countK</code></li>
</ul>
</li>
</ol>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
<span class="n">K</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">);</span><span class="n">j</span><span class="o">=</span><span class="mi">0</span>
<span class="n">countk</span><span class="o">=</span><span class="n">K</span><span class="p">;</span><span class="n">res</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;-inf&#39;</span><span class="p">)</span>
<span class="k">while</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">n</span> <span class="ow">and</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;While loop start&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>   
        <span class="k">if</span> <span class="n">countk</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">countk</span><span class="o">-=</span><span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running out countK&#39;</span><span class="p">)</span>
            <span class="k">while</span> <span class="n">countk</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Revert the countK for the number of 1&#39;</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">countk</span><span class="o">+=</span><span class="mi">1</span>
                    
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Move i position forward&#39;</span><span class="p">)</span>
                <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Move i position forward&#39;</span><span class="p">)</span>
            <span class="n">i</span><span class="o">+=</span><span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Found the consecutive sequence </span><span class="si">%i</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="nb">int</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Leave the max value between %.f and </span><span class="si">%i</span><span class="s1"> =&gt; leave %.f&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span> <span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span>
    <span class="n">res</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">j</span><span class="o">-</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>  
    <span class="n">j</span><span class="o">+=</span><span class="mi">1</span>
    <span class="nb">print</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All exploration is finished&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Final result is %.f&#39;</span> <span class="o">%</span> <span class="n">res</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>While loop start
Found the consecutive sequence 1
Leave the max value between -inf and 1 =&gt; leave 1

While loop start
Found the consecutive sequence 2
Leave the max value between 1 and 2 =&gt; leave 2

While loop start
Found the consecutive sequence 3
Leave the max value between 2 and 3 =&gt; leave 3

While loop start
Found the consecutive sequence 4
Leave the max value between 3 and 4 =&gt; leave 4

While loop start
Found the consecutive sequence 5
Leave the max value between 4 and 5 =&gt; leave 5

While loop start
Running out countK
Revert the countK for the number of 1
Move i position forward
Revert the countK for the number of 1
Move i position forward
Revert the countK for the number of 1
Move i position forward
Move i position forward
Found the consecutive sequence 2
Leave the max value between 5 and 2 =&gt; leave 5

While loop start
Found the consecutive sequence 3
Leave the max value between 5 and 3 =&gt; leave 5

While loop start
Found the consecutive sequence 4
Leave the max value between 5 and 4 =&gt; leave 5

While loop start
Found the consecutive sequence 5
Leave the max value between 5 and 5 =&gt; leave 5

While loop start
Found the consecutive sequence 6
Leave the max value between 5 and 6 =&gt; leave 6

While loop start
Running out countK
Move i position forward
Found the consecutive sequence 6
Leave the max value between 6 and 6 =&gt; leave 6

========================================
All exploration is finished
Final result is 6
</pre>
</div>
</div>

</div>
</div>

</div>
 

